(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),o=a(5),i=a(4),l=a(6),u=a(11),j=a.n(u),b=a(15),d=a(18),p=a.n(d),h="LOGIN_SUCCESS",m="LOGIN_FAIL",O="USER_LOAD_SUCCESS",f="USER_LOAD_FAIL",x="AUTHENTICATED_SUCCESS",v="AUTHENTICATED_FAILED",g="LOGOUT",w="PASSWORD_RESET_SUCCESS",y="PASSWORD_RESET_FAIL",S="PASSWORD_RESET_CONFIRM_SUCCESS",N="PASSWORD_RESET_CONFIRM_FAIL",_=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return a={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,p.a.get("".concat("http://localhost:8000","/auth/users/me/"),a);case 5:n=e.sent,t({type:O,payload:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:f});case 12:e.next=15;break;case 14:t({type:f});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},A=a(1),k=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:g});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.logout,a=e.isAuthenticated;return Object(A.jsx)("div",{children:Object(A.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(A.jsxs)("div",{className:"container-fluid container",children:[Object(A.jsx)(o.b,{className:"navbar-brand",to:"/",children:"Authenticate"}),Object(A.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(A.jsx)("span",{className:"navbar-toggler-icon"})}),Object(A.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(A.jsxs)("ul",{className:"navbar-nav",children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(o.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Home"})}),a?Object(A.jsx)(n.Fragment,{children:Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(o.b,{className:"nav-link",href:"#!",onClick:t,children:"Logout"})})}):Object(A.jsxs)(n.Fragment,{children:[Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(o.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(A.jsx)("li",{className:"nav-item",children:Object(A.jsx)(o.b,{className:"nav-link",to:"/signup",children:"Signup"})})]})]})})]})})})})),E=Object(l.b)(null,{checkauthenticated:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return a={headers:{"Content-Type":"application/json",Accept:"application/json"}},n=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,p.a.post("".concat("http://localhost:8000","/auth/jwt/verify/"),n,a);case 6:"token_not_valid"!==e.sent.data.code?t({type:x}):t({type:v}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:v});case 13:e.next=16;break;case 15:t({type:v});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},load_user:_})((function(e){return Object(n.useEffect)((function(){e.checkauthenticated(),e.load_user()}),[]),Object(A.jsxs)("div",{children:[Object(A.jsx)(k,{}),e.children]})})),C=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.isAuthenticated;return Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("div",{className:"p-5 mb-4 bg-light rounded-3",children:Object(A.jsxs)("div",{className:"container-fluid py-5",children:[Object(A.jsx)("h1",{className:"display-5 fw-bold",children:"Home Page"}),Object(A.jsx)("p",{className:"col-md-8 fs-4",children:"Using a series of utilities, you can create this jumbotron, just like the one in previous versions of Bootstrap. Check out the examples below for how you can remix and restyle it to your liking."}),t?null:Object(A.jsx)(o.b,{className:"btn btn-primary btn-lg",to:"/login",role:"button",children:"Login"})]})})})})),I=function(){return Object(A.jsx)("div",{children:"Activate"})},T=function(){return Object(A.jsx)("div",{children:"Signup"})},P=a(13),R=a(3),F=a(14),D=(a(24),Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var a=Object(b.a)(j.a.mark((function a(n){var c,r,s;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),console.log(r),a.prev=3,a.next=6,p.a.post("".concat("http://localhost:8000","/auth/jwt/create/"),r,c);case 6:s=a.sent,n({type:h,payload:s.data}),n(_()),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),n({type:m});case 14:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),r=Object(F.a)(c,2),s=r[0],l=r[1],u=s.email,j=s.password,b=function(e){return l(Object(R.a)(Object(R.a)({},s),{},Object(P.a)({},e.target.name,e.target.value)))};return a?Object(A.jsx)(i.a,{to:"/"}):Object(A.jsxs)("div",{className:"container mt-5",children:[Object(A.jsx)("h1",{children:"Sign in"}),Object(A.jsx)("p",{children:"Sign in to your account"}),Object(A.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(u,j)}(e)},children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"email",children:"Email"}),Object(A.jsx)("input",{className:"form-control",type:"email",placeholder:"Enter your email",name:"email",value:u,onChange:function(e){return b(e)},required:!0})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"password",children:"Password"}),Object(A.jsx)("input",{className:"form-control",type:"password",placeholder:"Enter your password",name:"password",value:j,onChange:function(e){return b(e)},required:!0})]}),Object(A.jsx)("div",{className:"form-group",children:Object(A.jsx)("button",{className:"btn btn-primary for-login",type:"submit",children:"Login"})})]}),Object(A.jsxs)("p",{className:"mt-3",children:["Don't have an account? ",Object(A.jsx)(o.b,{to:"/signup",children:"Signup"})]}),Object(A.jsxs)("p",{className:"mt-3",children:["Forgot password? ",Object(A.jsx)(o.b,{to:"/reset_password",children:"ResetPassword"})]})]})}))),L=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{reset_password:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(a){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e}),t.prev=2,t.next=5,p.a.post("".concat("http://localhost:8000","/auth/users/reset_password/"),c,n);case 5:a({type:w}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),a({type:y});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.reset_password,a=e.isAuthenticated,c=Object(n.useState)(!1),r=Object(F.a)(c,2),s=r[0],l=r[1],u=Object(n.useState)({email:""}),j=Object(F.a)(u,2),b=j[0],d=j[1],p=b.email;return s||a?Object(A.jsx)(i.a,{to:"/"}):Object(A.jsxs)("div",{className:"container mt-5",children:[Object(A.jsx)("h1",{children:"Reset Password"}),Object(A.jsx)("p",{children:"Forgot Password"}),Object(A.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(p),l(!0)}(e)},children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"email",children:"Email"}),Object(A.jsx)("input",{className:"form-control",type:"email",placeholder:"Enter your email",name:"email",value:p,onChange:function(e){return function(e){return d(Object(R.a)(Object(R.a)({},b),{},Object(P.a)({},e.target.name,e.target.value)))}(e)},required:!0})]}),Object(A.jsx)("div",{className:"form-group",children:Object(A.jsx)("button",{className:"btn btn-primary for-login",type:"submit",children:"Reset Password"})})]}),Object(A.jsxs)("p",{className:"mt-3",children:["Don't have an account? ",Object(A.jsx)(o.b,{to:"/signup",children:"Signup"})]}),Object(A.jsxs)("p",{className:"mt-3",children:["Already have an account? ",Object(A.jsx)(o.b,{to:"/login",children:"Login"})]})]})})),U=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{reset_password_confirm:function(e,t,a,n){return function(){var c=Object(b.a)(j.a.mark((function c(r){var s,o;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={headers:{"Content-Type":"application/json"}},o=JSON.stringify({uid:e,token:t,new_password:a,re_new_password:n}),c.prev=2,c.next=5,p.a.post("".concat("http://localhost:8000","/auth/users/reset_password_confirm/"),o,s);case 5:r({type:S}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(2),r({type:N});case 11:case"end":return c.stop()}}),c,null,[[2,8]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.reset_password_confirm,c=e.isAuthenticated,r=Object(n.useState)(!1),s=Object(F.a)(r,2),o=s[0],l=s[1],u=Object(n.useState)({new_password:"",re_new_password:""}),j=Object(F.a)(u,2),b=j[0],d=j[1],p=b.new_password,h=b.re_new_password,m=function(e){return d(Object(R.a)(Object(R.a)({},b),{},Object(P.a)({},e.target.name,e.target.value)))};return o||c?Object(A.jsx)(i.a,{to:"/"}):Object(A.jsxs)("div",{className:"container mt-5",children:[Object(A.jsx)("h1",{children:"Reset Password"}),Object(A.jsx)("p",{children:"Forgot Password"}),Object(A.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var n=t.params.uid,c=t.params.token;a(n,c,p,h),l(!0)}(e)},children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"email",children:"Password"}),Object(A.jsx)("input",{className:"form-control",type:"password",placeholder:"Enter Password",name:"new_password",value:p,onChange:function(e){return m(e)},required:!0})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("label",{htmlFor:"email",children:"Confirm Password"}),Object(A.jsx)("input",{className:"form-control",type:"password",placeholder:"Enter Confirm Password",name:"re_new_password",value:h,onChange:function(e){return m(e)},required:!0})]}),Object(A.jsx)("div",{className:"form-group",children:Object(A.jsx)("button",{className:"btn btn-primary for-login",type:"submit",children:"Reset Password"})})]})]})})),J=function(){return Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("h1",{children:"404 Page not found"})})},W=a(17),q=a(35),H=a(36),M={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null},G=Object(W.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case x:return Object(R.a)(Object(R.a)({},e),{},{isAuthenticated:!0});case v:return Object(R.a)(Object(R.a)({},e),{},{isAuthenticated:!1});case h:return localStorage.setItem("access",n.access),Object(R.a)(Object(R.a)({},e),{},{isAuthenticated:!0,access:n.access,refresh:n.refresh});case m:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(R.a)(Object(R.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null});case O:return Object(R.a)(Object(R.a)({},e),{},{user:n});case f:return Object(R.a)(Object(R.a)({},e),{},{user:null});case g:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(R.a)(Object(R.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null});case w:case y:case S:case N:return Object(R.a)({},e);default:return e}}}),B=[H.a],z=Object(W.createStore)(G,{},Object(q.composeWithDevTools)(W.applyMiddleware.apply(void 0,B))),K=function(){return Object(A.jsx)(l.a,{store:z,children:Object(A.jsx)(o.a,{children:Object(A.jsx)(E,{children:Object(A.jsxs)(i.d,{children:[Object(A.jsx)(i.b,{exact:!0,path:"/",component:C}),Object(A.jsx)(i.b,{exact:!0,path:"/login",component:D}),Object(A.jsx)(i.b,{exact:!0,path:"/signup",component:T}),Object(A.jsx)(i.b,{exact:!0,path:"/activate/:uid/:token",component:I}),Object(A.jsx)(i.b,{exact:!0,path:"/reset_password",component:L}),Object(A.jsx)(i.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:U}),Object(A.jsx)(i.b,{path:"*",component:J})]})})})})};s.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(K,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.1278ed97.chunk.js.map